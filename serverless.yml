service: mes-documents-service

provider:
  name: aws
  runtime: nodejs8.10
  environment:
    NOTIFY_HOSTNAME: http://www.example.com
    USE_NOTIFY: false
    IS_LOCAL: true
    NOTIFY_RETRY_LIMIT: 2
    NOTIFY_API_KEY: 'test'
    NOTIFY_EMAIL_TEMPLATE_ID: 'email_template_id'
    NOTIFY_EMAIL_WELSH_TEMPLATE_ID: ''
    NOTIFY_POST_TEMPLATE_ID: 'letter_template_id'

package:
  individually: true

functions:
  sendCandidateResults: 
    handler: src/functions/sendCandidateResults/framework/handler.handler
    events: 
      - http: 
          path: 'test'
          method: get
    timeout: 60
    reservedConcurrency: 1

custom:
  webpack:
    webpackConfig: 'webpack-sls-offline.config.js'
  serverless-offline-http-mock:
    - hostname: ${self:provider.environment.NOTIFY_HOSTNAME}
      directory: 'mocks'
      mocks:
        - index.js

plugins:
  - serverless-offline-http-mock
  - serverless-offline
  - serverless-webpack
